<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="How to load XML Content at Runtime? | MonoGame ">

    <title>How to load XML Content at Runtime? | MonoGame </title>
<meta name="description" content="Describes how to load custom game data at game runtime through the Content Pipeline.">

    <meta name="og:url" content="https://monogame.net/articles/monogame/howto/content_pipeline/HowTo_Load_XML.html"><meta name="og:type" content="website">
    <meta name="og:title" content="How to load XML Content at Runtime? | MonoGame ">
    <meta name="og:description" content="Describes how to load custom game data at game runtime through the Content Pipeline.">
    <meta name="og:image" content="https://monogame.net/images/social_embed_image.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="monogame.net">
    <meta property="twitter:url" content="https://monogame.net/articles/monogame/howto/content_pipeline/HowTo_Load_XML.html">
    <meta name="twitter:title" content="How to load XML Content at Runtime? | MonoGame ">
    <meta name="twitter:description" content="Describes how to load custom game data at game runtime through the Content Pipeline.">
    <meta name="twitter:image" content="https://monogame.net/images/social_embed_image.png">

    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="../../../../public/docfx.min.css">
    <link rel="stylesheet" href="../../../../public/main.css">
    <meta name="docfx:navrel" content="../../../../toc.html">
    <meta name="docfx:tocrel" content="toc.html">




<meta name="docfx:docurl" content="https://github.com/SimonDarksideJ/monogame.github.io/blob/feature/docsmigration/documentation/articles/monogame/howto/content_pipeline/HowTo_Load_XML.md/#L1">
    <meta name="loc:inThisArticle" content="In this article">
    <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
    <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
    <meta name="loc:tocFilter" content="Filter by title">
    <meta name="loc:nextArticle" content="Next">
    <meta name="loc:prevArticle" content="Previous">
    <meta name="loc:themeLight" content="Light">
    <meta name="loc:themeDark" content="Dark">
    <meta name="loc:themeAuto" content="Auto">
    <meta name="loc:changeTheme" content="Change theme">
    <meta name="loc:copy" content="Copy">    

  </head>

      <script type="module" src="./../../../../public/docfx.min.js"></script>
  <script>
      const theme = localStorage.getItem('theme') || 'auto'
      document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>
  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
        <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
            <div class="container-xxl mx-auto flex-nowrap">
                <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="mg-logo svg" style="height: 36px; display: inline-block;" alt="">
            
                </a>
                <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
                <i class="bi bi-three-dots"></i>
                </button>
                <div class="collapse navbar-collapse" id="navpanel">
                <div id="navbar">
                </div>
                </div>
            </div>
        </nav>
    </header>
    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">


<p>This example concludes the procedure begun in the tutorial <a href="HowTo_Add_XML.html">Adding an XML Content File to a Visual Studio Project</a>.</p>
<p>Once custom game data is integrated as game content from an XML file through the Content Pipeline, it exists within your game runtime package in binary format. The data can be <a href="HowTo_GameContent_Add.html">loaded at runtime</a> through the <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ContentManager.html">ContentManager</a>.</p>
<h2 id="add-a-spritefont-for-testing">Add a SpriteFont for testing</h2>
<p>While not essential for loading XML, in order to demonstrate the loaded data and write it to the screen, we will add a <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Graphics.SpriteFont.html">SpriteFont</a> to enable the drawing of strings.</p>
<ol>
<li><p>In the <code>Solution Explorer</code>, Double-click the <code>Content.mgcb</code> in the <code>Content</code> folder to open the MGCB editor.</p>
<div class="TIP">
<h5>Tip</h5>
<p>If you have any issues opening the MGCB content project, please refer to the <a href="HowTo_GameContent_Add.html">How to load content</a> guide.</p>
</div>
</li>
<li><p>Click on <code>Edit -&gt; New Item</code>, then name the file <code>Font</code> and select <code>SpriteFont Description</code> as the type.  Click on <code>Create</code> to finish.</p>
</li>
<li><p>Save the content project and then continue.</p>
</li>
</ol>
<h2 id="to-load-the-custom-data-in-the-game">To load the custom data in the game</h2>
<ol>
<li><p>To add the <code>MyDataTypes</code> library as a reference in the game project, In the <code>Solution Explorer</code>, right-click the game project, click <code>Add Reference</code>, click the <code>Projects</code> tab, select <code>MyDataTypes</code>, and then click <code>OK</code>.</p>
</li>
<li><p>Then in the <code>Solution Explorer</code>, double-click <code>Game1.cs</code> to edit it.</p>
</li>
<li><p>Add the <code>using</code> declaration for the MyDataTypes namespace at the top of the file beneath the existing <code>usings</code> statements.</p>
<pre><code class="lang-csharp">using MyDataTypes;
</code></pre>
</li>
<li><p>Add a data declaration for an array of type <code>PetData</code> after the other <code>private</code> variables in the <code>Game1</code> class.</p>
<pre><code class="lang-csharp">private PetData[] pets;
</code></pre>
</li>
<li><p>In the <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html#Microsoft_Xna_Framework_Game_LoadContent">Game.LoadContent</a> override function, load the custom content.</p>
<pre><code class="lang-csharp">protected override void LoadContent()
{
    // Load the pet data table
    pets = Content.Load&lt;PetData[]&gt;(&quot;pets&quot;);
}
</code></pre>
<p>The custom game data now resides in the array of <code>PetData</code> objects.</p>
</li>
<li><p>The data loaded from the XML file into the <code>PetData</code> array can be accessed normally as c# code, for example, the following <code>Draw</code> code will render the data from the XML file to the screen if found, else it will write a warning.</p>
<pre><code class="lang-csharp">    protected override void Draw(GameTime gameTime)
    {
        GraphicsDevice.Clear(Color.CornflowerBlue);

        _spriteBatch.Begin();
        // Check if the XML data was loaded into the pets data array.
        if (pets != null)
        {
           // For each pet, write its data to the screen.
           for (int i = 0; i &lt; pets.Length; i++)
            {
                var pet = pets[i];
                _spriteBatch.DrawString(Content.Load&lt;SpriteFont&gt;(&quot;Font&quot;), $&quot;{pet.Name} / {pet.Species}: Weight [{pet.Weight}] - Age: [{pet.Age}]&quot;, new Vector2(100, 100 + 20 * i), Color.White);
            }
        }
        else
        {
            // If no data was loaded (or there was an error) write `No Pets found` to the screen.
            _spriteBatch.DrawString(Content.Load&lt;SpriteFont&gt;(&quot;Font&quot;), &quot;No pets found&quot;, new Vector2(100, 100), Color.White);
        }
        _spriteBatch.End();
        base.Draw(gameTime);
    }
</code></pre>
</li>
</ol>
<p>The result of loading the XML and rendering the data should display as follows:</p>
<p><img src="../images/HowTo_Load_XML_Final.png" alt="XML data output"></p>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="HowTo_UseCustomXML.html">Using an XML File to Specify Content</a></li>
<li><a href="HowTo_GameContent_Add.html">Adding Content to a Game</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/SimonDarksideJ/monogame.github.io/blob/feature/docsmigration/documentation/articles/monogame/howto/content_pipeline/HowTo_Load_XML.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


      <section class="container-xxl">
          <footer class="border-top my-5 pt-5">
              <div class="row justify-content-between">
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>MonoGame</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="/articles/" class="p-0">Documentation</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/api/" class="p-0">API Reference</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/showcase/" class="p-0">Showcase</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/about/" class="p-0">About</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/foundation/" class="p-0">Foundation Bylaws</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>Get Involved</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/MonoGame" class="p-0">Source Code</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/monogame.github.io/blob/main/CONTRIBUTING.md" class="p-0">Documentation</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/MonoGame/issues/new/choose" class="p-0">Report
                                  Issues</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://www.patreon.com/MonoGame" class="p-0">Patreon</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>Public Relations</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="/blog/" class="p-0">Blog</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://community.monogame.net" class="p-0">Community</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/presskit/" class="p-0">Press Kit</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h3 class="fw-bold"><a href="/about/#contact-us">Contact Us</a>
                  </h3></div>
              </div>

              <div class="d-flex flex-column flex-sm-row justify-content-between align-items-center gap-3 py-4 my-4">
                  <div>
                      Copyright © 2009-2024 MonoGame Foundation, Inc. <br> Designed with
                      <span class="text-danger">❤</span>
                      by
                      <a href="https://github.com/MonoGame/monogame.github.io/graphs/contributors">MonoGame Community</a>
                  </div>
                  <div class="d-flex justify-content-between gap-3">
                      <a class="mg-social-link hide-external-icon" href="https://github.com/monogame/monogame" title="GitHub">
                          <i class="bi bi-github"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://www.patreon.com/MonoGame" title="Patreon">
                          <i class="bi bi-p-circle-fill"></i>
                      </a>                    
                      <a class="mg-social-link hide-external-icon" href="https://discord.gg/monogame" title="Discord">
                          <i class="bi bi-discord"></i>
                      </a>    
                      <a class="mg-social-link hide-external-icon" href="https://www.youtube.com/MonoGame" title="YouTube">
                          <i class="bi bi-youtube"></i>
                      </a>  
                      <a class="mg-social-link hide-external-icon" href="https://www.reddit.com/r/monogame/" title="Reddit">
                          <i class="bi bi-reddit"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://www.facebook.com/monogamecommunity" title="Facebook">
                          <i class="bi bi-facebook"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://twitter.com/MonoGameTeam" title="Twitter">
                          <i class="bi bi-twitter"></i>
                      </a>     
                      <a class="mg-social-link hide-external-icon" href="https://monogame.net/blog/feed.xml" title="MonoGame Blog">
                          <i class="bi bi-rss-fill"></i>
                      </a>                                                   
                  </div>
              </div>
          </footer>
      </section>
  </body>
</html>
