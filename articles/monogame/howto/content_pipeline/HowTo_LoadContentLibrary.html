<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="How to load content within a Game Library? | MonoGame ">

    <title>How to load content within a Game Library? | MonoGame </title>
<meta name="description" content="It may be desirable in some designs to load and draw content within the methods of a Game Library. For example, you may wish to distribute code that displays textures, models, or fonts (such as a DrawableGameComponent) in a .DLL.">

    <meta name="og:url" content="https://monogame.net/articles/monogame/howto/content_pipeline/HowTo_LoadContentLibrary.html"><meta name="og:type" content="website">
    <meta name="og:title" content="How to load content within a Game Library? | MonoGame ">
    <meta name="og:description" content="It may be desirable in some designs to load and draw content within the methods of a Game Library. For example, you may wish to distribute code that displays textures, models, or fonts (such as a DrawableGameComponent) in a .DLL.">
    <meta name="og:image" content="https://monogame.net/images/social_embed_image.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="monogame.net">
    <meta property="twitter:url" content="https://monogame.net/articles/monogame/howto/content_pipeline/HowTo_LoadContentLibrary.html">
    <meta name="twitter:title" content="How to load content within a Game Library? | MonoGame ">
    <meta name="twitter:description" content="It may be desirable in some designs to load and draw content within the methods of a Game Library. For example, you may wish to distribute code that displays textures, models, or fonts (such as a DrawableGameComponent) in a .DLL.">
    <meta name="twitter:image" content="https://monogame.net/images/social_embed_image.png">

    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="../../../../public/docfx.min.css">
    <link rel="stylesheet" href="../../../../public/main.css">
    <meta name="docfx:navrel" content="../../../../toc.html">
    <meta name="docfx:tocrel" content="toc.html">




<meta name="docfx:docurl" content="https://github.com/SimonDarksideJ/monogame.github.io/blob/feature/docsmigration/documentation/articles/monogame/howto/content_pipeline/HowTo_LoadContentLibrary.md/#L1">
    <meta name="loc:inThisArticle" content="In this article">
    <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
    <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
    <meta name="loc:tocFilter" content="Filter by title">
    <meta name="loc:nextArticle" content="Next">
    <meta name="loc:prevArticle" content="Previous">
    <meta name="loc:themeLight" content="Light">
    <meta name="loc:themeDark" content="Dark">
    <meta name="loc:themeAuto" content="Auto">
    <meta name="loc:changeTheme" content="Change theme">
    <meta name="loc:copy" content="Copy">    

  </head>

      <script type="module" src="./../../../../public/docfx.min.js"></script>
  <script>
      const theme = localStorage.getItem('theme') || 'auto'
      document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>
  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
        <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
            <div class="container-xxl mx-auto flex-nowrap">
                <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="mg-logo svg" style="height: 36px; display: inline-block;" alt="">
            
                </a>
                <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
                <i class="bi bi-three-dots"></i>
                </button>
                <div class="collapse navbar-collapse" id="navpanel">
                <div id="navbar">
                </div>
                </div>
            </div>
        </nav>
    </header>
    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">


<p>There are two advanced techniques that accommodate this, one in which the binary content is separate from the .DLL, and one in which the content is embedded within the .DLL.</p>
<ul>
<li><a href="#loading-content-in-a-custom-game-library">Loading Content in a custom Game Library</a></li>
<li><a href="#embedding-content-in-a-game-library">Embedding Content in a Game Library</a></li>
</ul>
<h2 id="loading-content-in-a-custom-game-library">Loading Content in a custom Game Library</h2>
<p>In this method, the compiled content used by the game library is distributed in its own .xnb files, separate from the .DLL.</p>
<p>This is the preferred method in most cases, as it makes the most efficient use of memory, especially when binary content is large.</p>
<h3 id="to-create-compiled-content">To create compiled content</h3>
<ol>
<li>Create a new solution that contains a game library project.</li>
<li><a href="HowTo_GameContent_Add.html">Add a game content project</a> to the solution.</li>
<li>In a library project, choose <strong>Add, New Item</strong>, and select &quot;Resources File.&quot;</li>
<li>Select the game library project, then right-click and choose <strong>Add Content Reference...</strong>, and select the game content project you just created.</li>
</ol>
<p>When the solution is built, the resources in the content project will be compiled into binary .xnb files. These files will reside in the &quot;bin\x86\Debug\Content&quot; directory of the game library project (if built as an x86 debug project).</p>
<h3 id="to-load-compiled-content-within-the-game-library">To load compiled content within the Game Library</h3>
<ol>
<li><p>Create a new class that is the child of <a class="xref" href="../../../../api/Microsoft.Xna.Framework.DrawableGameComponent.html">DrawableGameComponent</a>.</p>
</li>
<li><p>Define a new <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ContentManager.html">ContentManager</a> and, within the constructor of the new class, set its <strong>RootDirectory</strong> to the path where the compiled content is to be stored.</p>
<p>For flexibility, the path string may be a parameter passed to the constructor by the game client.</p>
<pre><code class="lang-csharp">public static ContentManager LibContent;

public GameLibComponent(Game game, string contentdirectory) : base(game)
{
    LibContent = new ContentManager(game.Services);
    LibContent.RootDirectory = contentdirectory;
}
</code></pre>
</li>
<li><p>In the <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html#Microsoft_Xna_Framework_Game_LoadContent">Game.LoadContent</a> method, load your content normally using your <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ContentManager.html">ContentManager</a>.</p>
<pre><code class="lang-csharp">SpriteBatch spriteBatch;
Texture2D LibTexture;

protected override void LoadContent()
{
    spriteBatch = new SpriteBatch(GraphicsDevice);
    LibTexture = LibContent.Load&lt;Texture2D&gt;(&quot;mytexture&quot;);
}
</code></pre>
</li>
</ol>
<h2 id="embedding-content-in-a-game-library">Embedding Content in a Game Library</h2>
<p>You may also embed binary content resources directly in the Game Library and load them from within. This technique requires the declaration of those resources in a reference file. It allows you to distribute code that displays textures, models, or fonts (such as a <a class="xref" href="../../../../api/Microsoft.Xna.Framework.DrawableGameComponent.html">DrawableGameComponent</a>) in a .DLL without distributing the .xnb files separately.</p>
<blockquote>
<p><strong>Note</strong></p>
<p>Be aware that all embedded resources are loaded into memory with the .DLL, and cannot be unloaded from main memory. For this reason, this technique is not recommended for most applications, and should only be used when the content to embed is very small.</p>
</blockquote>
<h3 id="to-add-content-to-a-game-library-as-references">To add content to a Game Library as references</h3>
<ol>
<li><p>Build an existing project containing the content you wish to add.</p>
</li>
<li><p>In a library project, choose <strong>Add</strong>, <strong>New Item</strong>, and select &quot;Resources File&quot;.</p>
</li>
<li><p>If the <strong>Resource Designer</strong> is not opened automatically, double-click the .resx file in the <strong>Solution Explorer</strong>.</p>
</li>
<li><p>From the <strong>Resource Designer</strong>, choose <strong>Add Resource</strong>, <strong>Add Existing File</strong>.</p>
</li>
<li><p>Navigate to the &quot;bin\x86\Debug\Content&quot; directory of the project that built the content you wish to add.</p>
<blockquote>
<p>This assumes it was built as an x86 Debug project.</p>
</blockquote>
</li>
<li><p>Select the .xnb files for the content you wish to add to the library.</p>
<blockquote>
<p>Ensure the dialog box is displaying &quot;All Files&quot;.</p>
</blockquote>
</li>
</ol>
<p>Once content has been added to the <strong>Resource Designer</strong>, any code running from within the Library can load the content with a special <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ContentManager.html">ContentManager</a>.</p>
<h3 id="to-load-embedded-content-within-a-game-library">To load embedded content within a Game Library</h3>
<ol>
<li><p>Create a new class that is the child of <a class="xref" href="../../../../api/Microsoft.Xna.Framework.DrawableGameComponent.html">DrawableGameComponent</a>.</p>
</li>
<li><p>Define a new <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ContentManager.html">ContentManager</a>.</p>
</li>
<li><p>Within the constructor of the new class, create a new instance of the <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ResourceContentManager.html">ResourceContentManager</a> class and assign it to your <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ContentManager.html">ContentManager</a>.</p>
<p>The second parameter to the <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ResourceContentManager.html">ResourceContentManager</a> constructor identifies the resource project that contains your embedded resources.</p>
<pre><code class="lang-csharp">public static ContentManager LibContent;

public GameLibComponent(Game game)
    : base(game)
{
    ResourceContentManager resxContent;
    resxContent = new ResourceContentManager(game.Services, ResourceFile.ResourceManager);
    LibContent = resxContent;
}
</code></pre>
</li>
<li><p>In the <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html#Microsoft_Xna_Framework_Game_LoadContent">Game.LoadContent</a> method, load your content normally using your <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Content.ContentManager.html">ContentManager</a>.</p>
<pre><code class="lang-csharp">SpriteBatch spriteBatch;
Texture2D LibTexture;

protected override void LoadContent()
{
    spriteBatch = new SpriteBatch(GraphicsDevice);
    LibTexture = LibContent.Load&lt;Texture2D&gt;(&quot;mytexture&quot;);
}
</code></pre>
</li>
</ol>
<h2 id="see-also">See Also</h2>
<h3 id="reference">Reference</h3>
<ul>
<li><a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html">Game Class</a></li>
<li><a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html#Microsoft_Xna_Framework_Game_LoadContent">Game.LoadContent</a></li>
<li><a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html#Microsoft_Xna_Framework_Game_UnloadContent">UnloadContent</a></li>
<li><a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html">Game Members</a></li>
<li><a class="xref" href="../../../../api/Microsoft.Xna.Framework.html">Microsoft.Xna.Framework Namespace</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/SimonDarksideJ/monogame.github.io/blob/feature/docsmigration/documentation/articles/monogame/howto/content_pipeline/HowTo_LoadContentLibrary.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


      <section class="container-xxl">
          <footer class="border-top my-5 pt-5">
              <div class="row justify-content-between">
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>MonoGame</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="/articles/" class="p-0">Documentation</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/api/" class="p-0">API Reference</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/showcase/" class="p-0">Showcase</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/about/" class="p-0">About</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/foundation/" class="p-0">Foundation Bylaws</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>Get Involved</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/MonoGame" class="p-0">Source Code</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/monogame.github.io/blob/main/CONTRIBUTING.md" class="p-0">Documentation</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/MonoGame/issues/new/choose" class="p-0">Report
                                  Issues</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://www.patreon.com/MonoGame" class="p-0">Patreon</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>Public Relations</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="/blog/" class="p-0">Blog</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://community.monogame.net" class="p-0">Community</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/presskit/" class="p-0">Press Kit</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h3 class="fw-bold"><a href="/about/#contact-us">Contact Us</a>
                  </h3></div>
              </div>

              <div class="d-flex flex-column flex-sm-row justify-content-between align-items-center gap-3 py-4 my-4">
                  <div>
                      Copyright © 2009-2024 MonoGame Foundation, Inc. <br> Designed with
                      <span class="text-danger">❤</span>
                      by
                      <a href="https://github.com/MonoGame/monogame.github.io/graphs/contributors">MonoGame Community</a>
                  </div>
                  <div class="d-flex justify-content-between gap-3">
                      <a class="mg-social-link hide-external-icon" href="https://github.com/monogame/monogame" title="GitHub">
                          <i class="bi bi-github"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://www.patreon.com/MonoGame" title="Patreon">
                          <i class="bi bi-p-circle-fill"></i>
                      </a>                    
                      <a class="mg-social-link hide-external-icon" href="https://discord.gg/monogame" title="Discord">
                          <i class="bi bi-discord"></i>
                      </a>    
                      <a class="mg-social-link hide-external-icon" href="https://www.youtube.com/MonoGame" title="YouTube">
                          <i class="bi bi-youtube"></i>
                      </a>  
                      <a class="mg-social-link hide-external-icon" href="https://www.reddit.com/r/monogame/" title="Reddit">
                          <i class="bi bi-reddit"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://www.facebook.com/monogamecommunity" title="Facebook">
                          <i class="bi bi-facebook"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://twitter.com/MonoGameTeam" title="Twitter">
                          <i class="bi bi-twitter"></i>
                      </a>     
                      <a class="mg-social-link hide-external-icon" href="https://monogame.net/blog/feed.xml" title="MonoGame Blog">
                          <i class="bi bi-rss-fill"></i>
                      </a>                                                   
                  </div>
              </div>
          </footer>
      </section>
  </body>
</html>
