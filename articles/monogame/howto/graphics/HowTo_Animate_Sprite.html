<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Animating a Sprite | MonoGame ">

    <title>Animating a Sprite | MonoGame </title>
<meta name="description" content="Demonstrates how to animate a sprite from a texture using a custom class.">

    <meta name="og:url" content="https://monogame.net/articles/monogame/howto/graphics/HowTo_Animate_Sprite.html"><meta name="og:type" content="website">
    <meta name="og:title" content="Animating a Sprite | MonoGame ">
    <meta name="og:description" content="Demonstrates how to animate a sprite from a texture using a custom class.">
    <meta name="og:image" content="https://monogame.net/images/social_embed_image.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="monogame.net">
    <meta property="twitter:url" content="https://monogame.net/articles/monogame/howto/graphics/HowTo_Animate_Sprite.html">
    <meta name="twitter:title" content="Animating a Sprite | MonoGame ">
    <meta name="twitter:description" content="Demonstrates how to animate a sprite from a texture using a custom class.">
    <meta name="twitter:image" content="https://monogame.net/images/social_embed_image.png">

    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="../../../../public/docfx.min.css">
    <link rel="stylesheet" href="../../../../public/main.css">
    <meta name="docfx:navrel" content="../../../../toc.html">
    <meta name="docfx:tocrel" content="toc.html">




<meta name="docfx:docurl" content="https://github.com/SimonDarksideJ/monogame.github.io/blob/feature/docsmigration/documentation/articles/monogame/howto/graphics/HowTo_Animate_Sprite.md/#L1">
    <meta name="loc:inThisArticle" content="In this article">
    <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
    <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
    <meta name="loc:tocFilter" content="Filter by title">
    <meta name="loc:nextArticle" content="Next">
    <meta name="loc:prevArticle" content="Previous">
    <meta name="loc:themeLight" content="Light">
    <meta name="loc:themeDark" content="Dark">
    <meta name="loc:themeAuto" content="Auto">
    <meta name="loc:changeTheme" content="Change theme">
    <meta name="loc:copy" content="Copy">    

  </head>

      <script type="module" src="./../../../../public/docfx.min.js"></script>
  <script>
      const theme = localStorage.getItem('theme') || 'auto'
      document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>
  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
        <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
            <div class="container-xxl mx-auto flex-nowrap">
                <a class="navbar-brand" href="../../../../index.html">
                <img id="logo" class="mg-logo svg" style="height: 36px; display: inline-block;" alt="">
            
                </a>
                <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
                <i class="bi bi-three-dots"></i>
                </button>
                <div class="collapse navbar-collapse" id="navpanel">
                <div id="navbar">
                </div>
                </div>
            </div>
        </nav>
    </header>
    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="animating-a-sprite">Animating a Sprite</h1>

<p>Demonstrates how to animate a sprite from a texture using a custom class.</p>
<p>The example assumes the texture you are loading contains four frames of the same size in a texture whose size is 256×64 pixels, and uses a class named <strong>AnimatedTexture</strong>, which is included with the sample.</p>
<h2 id="drawing-an-animated-sprite">Drawing an Animated Sprite</h2>
<ol>
<li><p>In your game's constructor, create an instance of the <strong>AnimatedTexture</strong> class.
This example uses (0,0) as the origin of the texture, no rotation, a scale of 2, and a depth of 0.5.</p>
<pre><code class="lang-csharp">private AnimatedTexture SpriteTexture;
private const float Rotation = 0;
private const float Scale = 2.0f;
private const float Depth = 0.5f;
public Game1()
{
    ...
    SpriteTexture = new AnimatedTexture(Vector2.Zero, Rotation, Scale, Depth);

    // Set device frame rate to 30 fps.
    TargetElapsedTime = TimeSpan.FromSeconds(1 / 30.0);
}
</code></pre>
</li>
<li><p>Load one or more textures to provide the image data for the animation.
In this example, the <strong>AnimatedTexture</strong> class loads a single texture and divides it into frames of animation. It uses the last parameter to determine how many frames to draw each second. In this case, it draws four frames at two frames per second (fps).</p>
<pre><code class="lang-csharp">private Viewport viewport;
private Vector2 shipPos;
private const int Frames = 4;
private const int FramesPerSec = 2;
protected override void LoadContent()
{
    // Create a new SpriteBatch, which can be used to draw textures.
    spriteBatch = new SpriteBatch(GraphicsDevice);

    // &quot;shipanimated&quot; is the name of the sprite asset in the project.
    SpriteTexture.Load(Content, &quot;shipanimated&quot;, Frames, FramesPerSec);
    viewport = graphics.GraphicsDevice.Viewport;
    shipPos = new Vector2(viewport.Width / 2, viewport.Height / 2);
}
</code></pre>
</li>
<li><p>In your game's <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html#Microsoft_Xna_Framework_Game_Update_Microsoft_Xna_Framework_GameTime_">Game.Update</a> method, determine which animation frame to display.</p>
<pre><code class="lang-csharp">protected override void Update(GameTime gameTime)
{
    ...
    float elapsed = (float)gameTime.ElapsedGameTime.TotalSeconds;

    // TODO: Add your game logic here.
    SpriteTexture.UpdateFrame(elapsed);
    base.Update(gameTime);
}
</code></pre>
<p>This is handled by AnimatedTexture's <strong>UpdateFrame</strong> method, which takes the elapsed seconds between updates as a parameter.</p>
<pre><code class="lang-csharp">// class AnimatedTexture
public void UpdateFrame(float elapsed)
{
    if (Paused)
        return;
    TotalElapsed += elapsed;
    if (TotalElapsed &gt; TimePerFrame)
    {
        Frame++;
        // Keep the Frame between 0 and the total frames, minus one.
        Frame = Frame % framecount;
        TotalElapsed -= TimePerFrame;
    }
}
</code></pre>
</li>
<li><p>In your game's <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Game.html#Microsoft_Xna_Framework_Game_Draw_Microsoft_Xna_Framework_GameTime_">Game.Draw</a> method, call <a class="xref" href="../../../../api/Microsoft.Xna.Framework.Graphics.SpriteBatch.html#Microsoft_Xna_Framework_Graphics_SpriteBatch_Draw_Microsoft_Xna_Framework_Graphics_Texture2D_Microsoft_Xna_Framework_Vector2_Microsoft_Xna_Framework_Color_">SpriteBatch.Draw</a> on the <strong>AnimatedTexture</strong> object.</p>
<pre><code class="lang-csharp">protected override void Draw(GameTime gameTime)
{
    GraphicsDevice.Clear(Color.CornflowerBlue);

    // TODO: Add your drawing code here
    spriteBatch.Begin();
    SpriteTexture.DrawFrame(spriteBatch, shipPos);
    spriteBatch.End();

    base.Draw(gameTime);
}
</code></pre>
<p><strong>AnimatedTexture</strong> draws the sprite using the subrectangle of the texture that contains the desired animation.</p>
<pre><code class="lang-csharp">// class AnimatedTexture
public void DrawFrame(SpriteBatch batch, Vector2 screenPos)
{
    DrawFrame(batch, Frame, screenPos);
}
public void DrawFrame(SpriteBatch batch, int frame, Vector2 screenPos)
{
    int FrameWidth = myTexture.Width / framecount;
    Rectangle sourcerect = new Rectangle(FrameWidth * frame, 0,
        FrameWidth, myTexture.Height);
    batch.Draw(myTexture, screenPos, sourcerect, Color.White,
        Rotation, Origin, Scale, SpriteEffects.None, Depth);
}
</code></pre>
</li>
</ol>
<h2 id="see-also">See Also</h2>
<h3 id="tasks">Tasks</h3>
<p><a href="HowTo_Draw_A_Sprite.html">Drawing a Sprite</a></p>
<h4 id="concepts">Concepts</h4>
<p><a href="../../whatis/graphics/WhatIs_Sprite.html">What Is a Sprite?</a></p>
<h4 id="reference">Reference</h4>
<p><a class="xref" href="../../../../api/Microsoft.Xna.Framework.Graphics.SpriteBatch.html">SpriteBatch</a>
<a class="xref" href="../../../../api/Microsoft.Xna.Framework.Graphics.SpriteBatch.html#Microsoft_Xna_Framework_Graphics_SpriteBatch_Draw_Microsoft_Xna_Framework_Graphics_Texture2D_Microsoft_Xna_Framework_Vector2_Microsoft_Xna_Framework_Color_">SpriteBatch.Draw</a>
<a class="xref" href="../../../../api/Microsoft.Xna.Framework.Graphics.Texture2D.html">Texture2D</a></p>
<hr>
<p>© 2012 Microsoft Corporation. All rights reserved.</p>
<p>© 2023 The MonoGame Foundation.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/SimonDarksideJ/monogame.github.io/blob/feature/docsmigration/documentation/articles/monogame/howto/graphics/HowTo_Animate_Sprite.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


      <section class="container-xxl">
          <footer class="border-top my-5 pt-5">
              <div class="row justify-content-between">
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>MonoGame</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="/articles/" class="p-0">Documentation</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/api/" class="p-0">API Reference</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/showcase/" class="p-0">Showcase</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/about/" class="p-0">About</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/foundation/" class="p-0">Foundation Bylaws</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>Get Involved</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/MonoGame" class="p-0">Source Code</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/monogame.github.io/blob/main/CONTRIBUTING.md" class="p-0">Documentation</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://github.com/MonoGame/MonoGame/issues/new/choose" class="p-0">Report
                                  Issues</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://www.patreon.com/MonoGame" class="p-0">Patreon</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h5>Public Relations</h5>
                      <ul class="nav flex-column">
                          <li class="nav-item mb-2">
                              <a href="/blog/" class="p-0">Blog</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="https://community.monogame.net" class="p-0">Community</a>
                          </li>
                          <li class="nav-item mb-2">
                              <a href="/presskit/" class="p-0">Press Kit</a>
                          </li>
                      </ul>
                  </div>
                  <div class="col-6 col-lg-3 mb-3">
                      <h3 class="fw-bold"><a href="/about/#contact-us">Contact Us</a>
                  </h3></div>
              </div>

              <div class="d-flex flex-column flex-sm-row justify-content-between align-items-center gap-3 py-4 my-4">
                  <div>
                      Copyright © 2009-2024 MonoGame Foundation, Inc. <br> Designed with
                      <span class="text-danger">❤</span>
                      by
                      <a href="https://github.com/MonoGame/monogame.github.io/graphs/contributors">MonoGame Community</a>
                  </div>
                  <div class="d-flex justify-content-between gap-3">
                      <a class="mg-social-link hide-external-icon" href="https://github.com/monogame/monogame" title="GitHub">
                          <i class="bi bi-github"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://www.patreon.com/MonoGame" title="Patreon">
                          <i class="bi bi-p-circle-fill"></i>
                      </a>                    
                      <a class="mg-social-link hide-external-icon" href="https://discord.gg/monogame" title="Discord">
                          <i class="bi bi-discord"></i>
                      </a>    
                      <a class="mg-social-link hide-external-icon" href="https://www.youtube.com/MonoGame" title="YouTube">
                          <i class="bi bi-youtube"></i>
                      </a>  
                      <a class="mg-social-link hide-external-icon" href="https://www.reddit.com/r/monogame/" title="Reddit">
                          <i class="bi bi-reddit"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://www.facebook.com/monogamecommunity" title="Facebook">
                          <i class="bi bi-facebook"></i>
                      </a>
                      <a class="mg-social-link hide-external-icon" href="https://twitter.com/MonoGameTeam" title="Twitter">
                          <i class="bi bi-twitter"></i>
                      </a>     
                      <a class="mg-social-link hide-external-icon" href="https://monogame.net/blog/feed.xml" title="MonoGame Blog">
                          <i class="bi bi-rss-fill"></i>
                      </a>                                                   
                  </div>
              </div>
          </footer>
      </section>
  </body>
</html>
